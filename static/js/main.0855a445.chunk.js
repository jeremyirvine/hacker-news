(this["webpackJsonphacker-news-clone-starter"]=this["webpackJsonphacker-news-clone-starter"]||[]).push([[0],[,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n(36)},,,,,function(e,t,n){},function(e,t,n){},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(15),l=n.n(c),o=(n(22),n(1)),i=(n(23),Object(o.f)((function(e){return r.a.createElement("div",{className:"Logo",onClick:function(){return e.history.push("/")}},r.a.createElement("img",{src:"https://news.ycombinator.com/y18.gif"})," ",r.a.createElement("p",null,"Hacker News")," ",r.a.createElement("small",null,"reader"))}))),u=n(6),m={color:"rgb(0, 102, 255)"};function s(){return r.a.createElement("nav",{className:"row space-between"},r.a.createElement("ul",{className:"row nav"},r.a.createElement("li",null,r.a.createElement(u.c,{to:"/",exact:!0,activeStyle:m,className:"nav-link"},"Top")),r.a.createElement("li",null,r.a.createElement(u.c,{to:"/new",activeStyle:m,className:"nav-link"},"New"))))}var f=n(7),E=(n(29),function(){return r.a.createElement("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",className:"Spinner"},r.a.createElement("circle",{cx:"50",cy:"50",r:"45"}))}),d=function(){return r.a.createElement("div",null,r.a.createElement(E,null))},h="https://hacker-news.firebaseio.com/v0",p=".json?print=pretty";function v(e){return e.filter(Boolean).filter((function(e){return!0!==e.dead}))}function b(e){return e.filter((function(e){return!0!==e.deleted}))}function w(e){return e.filter((function(e){return"story"===e.type}))}function g(e){return fetch("".concat(h,"/item/").concat(e).concat(p)).then((function(e){return e.json()}))}n(30);var y=function(e){var t=e.author,n=e.time,a=e.id,c=e.comments;return r.a.createElement("div",{className:"PostMeta"},"Posted by ",r.a.createElement(u.b,{to:"/user/".concat(t)},t)," ",function(e){var t=new Date(e);return"".concat(t.toLocaleDateString(),", ").concat(t.toLocaleTimeString())}(n),(c||0===c)&&r.a.createElement(r.a.Fragment,null,"\u2022 ",r.a.createElement(u.b,{to:"/post/".concat(a)},c," comments")))},k=(n(31),function(e){var t=e.post;return r.a.createElement("div",{className:"Post"},r.a.createElement("div",{className:"title",onClick:function(){}},r.a.createElement("a",{target:"_blank",href:t.url},t.title)),r.a.createElement(y,{author:t.by,time:t.time,id:t.id,comments:t.descendants}))}),j=function(e){var t=e.type,n=Object(a.useState)([]),c=Object(f.a)(n,2),l=c[0],o=c[1],i=Object(a.useState)(!0),u=Object(f.a)(i,2),m=u[0],s=u[1];return Object(a.useEffect)((function(){s(!0),function(e){return fetch("".concat(h,"/").concat(e,"stories").concat(p)).then((function(e){return e.json()})).then((function(t){if(!t)throw new Error("There was an error fetching the ".concat(e," posts."));return t.slice(0,50)})).then((function(e){return Promise.all(e.map(g))})).then((function(e){return b(w(v(e)))}))}(t).then((function(e){s(!1),o(e)}))}),[t]),r.a.createElement("div",null,m?r.a.createElement(d,null):l.map((function(e){return r.a.createElement(k,{key:e.id,post:e})})))},N=(n(32),function(e){var t=e.post,n=e.showComments;return r.a.createElement("div",{className:"PostContent"},r.a.createElement(y,{author:t.by,time:t.time,id:t.id,comments:n&&t.descendants}),r.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.text}}))}),O=(n(33),function(e){var t=e.match,n=(e.history,Object(a.useState)({})),c=Object(f.a)(n,2),l=c[0],o=c[1],i=Object(a.useState)(["-1"]),u=Object(f.a)(i,2),m=u[0],s=u[1];return Object(a.useEffect)((function(){g(t.params.id).then((function(e){var t;o(e),void 0==e.kids?s([]):(t=e.kids,Promise.all(t.map(g)).then((function(e){return b(v(e).filter((function(e){return"comment"===e.type})))}))).then((function(e){s(e)}))}))}),[]),console.log(),r.a.createElement("div",{className:"PostView"},0!==Object.keys(l).length&&-1!=m[0]?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"title",onClick:function(){window.open(l.url,"_blank")}},r.a.createElement("h1",null,l.title)),r.a.createElement(y,{author:l.by,time:l.time,id:l.id,comments:l.descendants}),r.a.createElement("br",null),m.map((function(e){return r.a.createElement(N,{post:e,key:e.id})}))):r.a.createElement(d,null))}),S=(n(34),function(e){var t=e.time,n=e.karma;return r.a.createElement("span",{className:"UserMeta"},"joined ",function(e){var t=new Date(e);return"".concat(t.toLocaleDateString(),", ").concat(t.toLocaleTimeString())}(t)," has ",n," karma")}),P=(n(35),function(e){var t=e.match,n=Object(a.useState)({}),c=Object(f.a)(n,2),l=c[0],o=c[1],i=Object(a.useState)([]),u=Object(f.a)(i,2),m=u[0],s=u[1];return Object(a.useEffect)((function(){var e;(e=t.params.login,fetch("".concat(h,"/user/").concat(e).concat(p)).then((function(e){return e.json()}))).then((function(e){var t;o(e),(t=e.submitted,Promise.all(t.map(g)).then((function(e){return b(w(v(e)))}))).then((function(e){s(e)}))}))}),[]),r.a.createElement("div",null,r.a.createElement("div",{className:"title"},r.a.createElement("h1",null,"u/",t.params.login)),r.a.createElement(S,{karma:l.karma,time:l.created}),r.a.createElement("h1",null,"Posts"),0==m.length?r.a.createElement(d,null):m.map((function(e){return r.a.createElement(k,{post:e,key:e.id})})))}),x=function(){return r.a.createElement("div",{className:"light"},r.a.createElement("div",{className:"container"},r.a.createElement("div",null,r.a.createElement(i,null)),r.a.createElement(s,null),r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:"/",render:function(){return r.a.createElement(j,{type:"top"})}}),r.a.createElement(o.a,{path:"/new",render:function(){return r.a.createElement(j,{type:"new"})}}),r.a.createElement(o.a,{path:"/post/:id",render:function(e){return r.a.createElement(O,e)}}),r.a.createElement(o.a,{path:"/user/:login",render:function(e){return r.a.createElement(P,e)}}),r.a.createElement(o.a,{render:function(){return r.a.createElement("h1",null,"404: Not Found")}}))))};l.a.render(r.a.createElement(u.a,null,r.a.createElement(x,null)),document.getElementById("root"))}],[[17,1,2]]]);
//# sourceMappingURL=main.0855a445.chunk.js.map